# basicProject

### 目标
基于ant-design-vue 1版本的基础项目库。
主要目的是为了能够之后的管理系统能有一个统一的基础项目模板，clone下来之后能够直接进行业务代码的开发。

### 数据来源
直接利用了密钥系统的接口数据，
clone下来之后，自行修改项目的接口代理地址。

登录之后更改标签页地址到 /system/operateLogs



### 登录

提供了不同方式的登录页面，自行选择项目需要的登录方式，并删除不需要的文件。

提供了最基本的样式，如果需要自定义样式，请自行修改。

#### 1. 账号密码登录

传统的账号密码登录，已经包含必填的校验，以及登录成功后，请求登录用户的菜单列表，并跳转到对应的第一个页面。

文件：

1. **src/views/Login.vue**

#### 2. 扫码登录

主要是引入了微信二维码登录的插件，在企微注册该应用之后，会有对应的配置信息，通过接口或者配置参数即可快速生成登录二维码。

文件：

1. **public/wwLogin-1.2.4.js**
2. **src/views/loginOfQrCode.vue**

#### 3. 在企微应用中打开免密登录

在企业微信中打开应用，如果该应用是企业内部应用的话，允许免密登录。

https://developer.work.weixin.qq.com/document/path/90556

文件：

1. **src/views/loading.vue**

前端逻辑流程：

1. 企微里面可以配置该应用的入口路径，用户在工作台中打开该应用后，会根据配置进入对应的页面；

2. 入口文件逻辑：

   ```js
   1. 首次打开应用，需要用户进行授权操作，判断url参数有没有code 和 state参数，如果没有的话，则通过接口请求授权页面的链接，并跳转到授权页面；
   	this.getOauth2UrlData()
   2. 如果用户已授权该应用的话，当用户打开应用后，url参数会带有code 和 state参数。判断有无参数，有的话就通过getToken({code, state})方法，传code、state给后端，获取token
   3. 成功获取到token后，则已经实现了登录，进行登录后的操作。
   ```

   